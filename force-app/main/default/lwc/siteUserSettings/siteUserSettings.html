<template>

    <template if:true={modalResetPassword}>
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open slds-modal_large">
           <div class="slds-modal__container">
              <header class="slds-modal__header slds-modal__header_empty modal-header">
                 <div class="slds-grid slds-wrap slds-grid_align-end">
                    <div class="slds-col">
                       <button class="slds-button slds-button_icon slds-button_icon-inverse slds-p-around_small" title="Close" onclick={closeModal}>
                          <lightning-icon icon-name="action:remove"
                             alternative-text="close"
                             variant="inverse"
                             size="small" ></lightning-icon>
                          <span class="slds-assistive-text">Close</span>
                       </button>
                    </div>
                 </div>
              </header>
              <!-- Modal/Popup Box LWC body starts here -->
              <div class="slds-modal__content modal-content" id="modal-content-id-1">
                 <div class="slds-grid slds-grid_align-center slds-m-top_medium">
                    <div class="slds-col">
                       <p class="modal-text">{modalText}</p>
                    </div>
                 </div>
                 <div class="slds-grid slds-grid_align-center slds-m-top_x-large slds-m-bottom_medium" style="gap:15px;">
                    <div class="slds-col slds-size_3-of-12 center">
                       <button class="print-btn-answer" onclick={closeModal}>{labels.No}</button>
                    </div>
                    <div class="slds-col slds-size_3-of-12 center">
                       <button class="print-btn-answer" onclick={resetPassword}>{labels.Yes}</button>
                    </div>
                 </div>
              </div>
           </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
     </template>


    <div class="container">
        <div class="user-name">
            <p class="name">{userInfo.firstName} &nbsp;</p>
            <p class="name">{userInfo.lastName}</p>
        </div>
        <div class="slds-tabs_default">
            <ul class="slds-tabs_default__nav" role="tablist">
                <li class="slds-tabs_default__item slds-is-active " role="presentation" data-id="tab-default-1__item">
                    <a  onclick={toggleSubtabs} class="slds-tabs_default__link" href="#" role="tab" tabindex="0" aria-selected="true" aria-controls="tab-default-1" id="tab-default-1__item" data-id="tab-default-1__item">{labels.Profile}</a>
                </li>
                <li class="slds-tabs_default__item" role="presentation" data-id="tab-default-2__item">
                    <a onclick={toggleSubtabs} class="slds-tabs_default__link" href="#" role="tab" tabindex="-1" aria-selected="false" aria-controls="tab-default-2" id="tab-default-2__item" data-id="tab-default-2__item">{labels.Settings}</a>
                </li>
            </ul>
            <div data-id="tab-default-1__item" class="slds-tabs_default__content slds-show" role="tabpanel" aria-labelledby="tab-default-1__item">
                <div class="user-Info  slds-grid slds-wrap">
                    <div class="user-info-block slds-col slds-size_5-of-12 slds-p-around_large">
                        <div class="user-field-value ">
                            <p>{labels.Company_name}</p>
                            <p class="field-value">{userInfo.companyName}</p>
                        </div>
                        <div class="user-field-value">
                            <p>{labels.Email}</p>
                            <p class="field-value">{userInfo.email}</p>
                        </div>
                    </div>
                    <div class="slds-size_2-of-12"></div>
                    <div class="user-info-block slds-col slds-size_12-of-12 slds-small-size_5-of-12 slds-p-around_large">
                        <div class="user-field-value">
                            <p>{labels.Mobile_phone}</p>
                            <p class="field-value">{userInfo.mobilePhone}</p>
                        </div>
                        <div class="user-field-value">
                            <p>{labels.phone}                            </p>
                            <p class="field-value">{userInfo.phone}</p>
                        </div>
                    </div>
                    <div class="about-me slds-p-around_large">
                        <p>{labels.About_me}</p>
                        <p class="about-me-text">{userInfo.aboutMe}</p>
                    </div>
                </div>
            </div>
            <div data-id="tab-default-2__item" class="slds-tabs_default__content slds-hide" role="tabpanel" aria-labelledby="tab-default-2__item">
                <div class="slds-grid slds-wrap" >
                    <div  class="slds-col slds-size_3-of-12 slds-p-around_large">
                        <p class="header-detail">{labels.Account}</p>
                    </div>
                    <div class="spinner">
                        <template if:true={isLoading}>
                            <lightning-spinner alternative-text="Loading" variant="brand" size="large">
                            </lightning-spinner>
                        </template>
                    </div>
                    <div  class="slds-col slds-col slds-size_12-of-12 slds-small-size_9-of-12 slds-p-around_x-small">
                        <div class="slds-grid slds-wrap slds-grid_vertical-align-center slds-m-top_medium slds-m-bottom_medium">
                            <form class="slds-grid slds-col slds-size_6-of-12 slds-p-around_x-small slds-m-bottom_large">
                                <label for="fname" class="label-detail">{labels.First_Name}</label>
                                <input type="text" id="fname" name="userName" value="" class="user-fname" oninput={validateInputs}>                      
                            </form>
                            <form class="slds-grid slds-col slds-size_6-of-12 slds-p-around_x-small slds-m-bottom_large">
                                <label for="fname" class="label-detail">{labels.Last_Name}</label>
                                <input type="text" id="lname" name="userName" value="" class="user-lname" oninput={validateInputs}>                      
                            </form>
                            <form class="slds-grid slds-col slds-size_6-of-12 slds-p-around_x-small slds-m-bottom_large">
                                <label for="fname" class="label-detail">{labels.Mobile_phone}</label>
                                <input type="tel" id="phone" name="userPhone" value="" class="user-work-phone" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}">                     
                            </form>
                            <form class="slds-grid slds-col slds-size_6-of-12 slds-p-around_x-small slds-m-bottom_large">
                                <label for="fname" class="label-detail">{labels.phone}</label>
                                <input type="tel" id="workphone" name="userPhone" value="" class="user-phone" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}">                     
                            </form>
                            <form class="slds-grid slds-col slds-size_12-of-12 slds-p-around_x-small slds-m-bottom_large">
                                <label for="fname" class="label-detail">{labels.About_me}</label>
                                <div>
                                    <textarea id="w3review" name="w3review" rows="4" cols="50" class="user-about-me"></textarea>      
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="slds-grid slds-wrap" >
                    <div  class="slds-col slds-size_3-of-12 slds-p-around_large">
                        <p class="header-detail">{labels.Location}</p>
                    </div>
                    <div  class="slds-col slds-col slds-size_12-of-12 slds-small-size_9-of-12 slds-p-around_x-small">
                        <div class="slds-grid slds-wrap slds-grid_vertical-align-center  ">
                            <div  class="slds-col slds-size_12-of-12 slds-p-around_x-small slds-m-bottom_large">
                                <div>
                                    <p>{labels.Time_zone}</p>
                                    <select class="select slds-select" data-label='timeFrames' onchange={handleTimaZone} >
                                        <template for:each={timeZoneArr} for:item="item">
                                            <option key={item.var} value={item.var} selected={item.userValue}>{item.var}</option>
                                        </template>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="slds-grid slds-wrap slds-grid_vertical-align-center  ">
                            <div  class="slds-col slds-size_12-of-12 slds-p-around_x-small slds-m-bottom_large">
                                <div>
                                    <p>{labels.Location}</p>
                                    <select class="select slds-select" data-label='timeFrames' onchange={handleLocale} >
                                        <template for:each={timeLocaleArr} for:item="item">
                                            <option key={item.var} value={item.var} selected={item.userValue}>{item.var}</option>
                                        </template>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="slds-grid slds-wrap slds-grid_vertical-align-center  ">
                            <div  class="slds-col slds-size_12-of-12 slds-p-around_x-small slds-m-bottom_large">
                                <div>
                                    <p>{labels.Language}</p>
                                    <select class="select slds-select" data-label='timeFrames'  onchange={handleLanguage}>
                                        <template for:each={timeLanguageArr} for:item="item">
                                            <option key={item.var} value={item.var} selected={item.userValue} class="user-language">{item.var}</option>
                                        </template>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="buttons slds-grid slds-wrap">
                            <div class="save-cancel slds-col slds-size_12-of-12 slds-small-size_6-of-12">
                                <div class="print-btn slds-m-bottom_medium" onclick={saveChanges} >
                                    <p class="print-text">{labels.Save}</p>
                                </div>
                                <div class="print-btn"  onclick={refreshComponent} >
                                    <p class="print-text">{labels.Cancel}</p>
                                </div>
                            </div>
                            <div class="print-btn password slds-col slds-size_12-of-12 slds-small-size_12-of-12"  onclick={openResetPasswordModal} >
                                <p class="print-text">{labels.Reset_Password}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>